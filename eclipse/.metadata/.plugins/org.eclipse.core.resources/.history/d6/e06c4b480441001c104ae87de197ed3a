package znick_.biomesabroad.biome.wasteland;

import java.awt.Color;
import java.util.Random;

import net.minecraft.world.World;
import net.minecraft.world.biome.BiomeDecorator;
import net.minecraft.world.biome.BiomeGenBase.Height;
import net.minecraftforge.common.BiomeDictionary.Type;
import znick_.biomesabroad.biome.BaseBiome;
import znick_.biomesabroad.biome.StructureGenerator;
import znick_.biomesabroad.biome.decorator.DecoratorWasteland;
import znick_.biomesabroad.generation.bush.BushTumbleweed;
import znick_.biomesabroad.generation.tree.TreeDead;
import znick_.biomesabroad.registry.BiomesAbroadBlocks;

public class BiomeWasteland extends BaseBiome {
	
	public BiomeWasteland() {
		super(DecoratorWasteland.class, Type.SANDY);
		this.setBiomeName("Wasteland");
		this.setTemperatureRainfall(Float.MAX_VALUE, 0.0F);

		this.setHeight(new Height(0, 0));
		this.setDisableRain();
		this.enableSnow = false;
		this.topBlock = BiomesAbroadBlocks.blockDeadGrass;
		this.waterColorMultiplier = (new Color(255, 128, 0)).getRGB();
		this.theBiomeDecorator.generateLakes = false;
		
		this.addStructure(new TreeDead(), 0.2F);
		this.addStructure(BiomesAbroadBlocks.blockTumbleweed, BiomesAbroadBlocks.blockDeadGrass, 1);
	}

	@Override
	public void addDefaultFlowers() {
		this.flowers.clear();
	}

	@Override
	public float getSpawningChance() {
		return 0;
	}
	
	@Override
	public BiomeDecorator createBiomeDecorator() {
        return getModdedBiomeDecorator(new DecoratorWasteland());
    }

	@Override
	public void decorate(World world, Random rand, int chunkX, int chunkZ) {
		super.decorate(world, rand, chunkX, chunkZ);

		StructureGenerator.generateStructure(world, rand, chunkX, chunkZ, this.rootHeight, BushTumbleweed.class, 1);
		StructureGenerator.generateStructure(world, rand, chunkX, chunkZ, this.rootHeight, TreeDead.class, 0.2F);
	}

}
